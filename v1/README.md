# csvQuery

## Основные возможности

- **Редактирование SQL-запросов**
  - Подсветка синтаксиса, автодополнение, настройка шрифта и цветовой схемы
  - Многострочное поле для task numbers
  - Поиск (Ctrl+F), замена (Ctrl+H), переход к строке (Ctrl+G)

- **Выполнение SQL-запросов**
  - Кнопка "Выполнить" (F7)
  - Автоматическое сохранение запроса в историю при выполнении
  - Поддержка in-memory и файловых SQLite-баз

- **История запросов (дерево)**
  - Группы и запросы, drag-and-drop, переименование, удаление
  - Подтверждение сохранения при смене запроса, если есть изменения
  - Быстрый переход между группами и запросами

- **Параметры запроса**
  - Диалог для задания параметров (вставка через {param})

- **Внешний редактор**
  - Кнопка "Следить за изменениями" (в контекстном меню редактора)
  - Слежение за изменениями файла, автоматическое обновление текста
  - Настраиваемый путь к редактору (по умолчанию VSCode, авто-поиск code.exe)

- **Группировка и дерево по значениям**
  - Контекстное меню: "Сгруппировать по значению в колонке"
  - Вложенная группировка (GroupBy → GroupBy)
  - Экспорт сгруппированных данных в CSV/Excel

- **Раскраска таблицы**
  - "Повторяющиеся значения": одинаковые значения в колонке выделяются цветом
  - "Переходы между значениями": переходы между разными значениями выделяются цветом текста

- **Редактирование таблиц**
  - Добавление/удаление строк и столбцов (Ctrl +/-, NumPad +/-, через контекстное меню)
  - Вставка/удаление области
  - Помещение содержимого QTableWidget в SQLite-таблицу с выбором имени

- **Импорт/экспорт**
  - Импорт из CSV, Excel/ODS
  - Экспорт в CSV/Excel (с выбором колонок)
  - Копирование выделенного в буфер обмена

- **Окна и диалоги**
  - Все окна запоминают свои размеры и позицию
  - Окно результатов запроса с кнопкой "развернуть/восстановить"

- **Горячие клавиши**
  - F7 — выполнить запрос
  - Ctrl +/-, NumPad +/-, контекстное меню — добавить/удалить строку или столбец
  - Ctrl+F, Ctrl+H, Ctrl+G — поиск, замена, переход к строке

---

## Улучшения и интеграции

- Поддержка drag-and-drop и редактирования дерева истории
- Автоматическое создание групп и запросов при необходимости
- Forward fill для группировки по значениям
- Безопасная работа с in-memory и файловыми базами
- Совместимость с Windows (поиск VSCode, работа с путями)

---

_Этот файл обновляется по мере появления новых функций и улучшений._ 

- Добавлен хоткей Ctrl+/ для комментирования и раскомментирования выделенных строк или текущей строки в редакторе SQL (добавляет/убирает -- в начале строки).
- Добавлен хоткей Ctrl+\ для установки или снятия символа | в начале строки (или выделения) в редакторе SQL. При добавлении | все кавычки " экранируются как ""; при удалении | двойные кавычки "" заменяются обратно на ". 